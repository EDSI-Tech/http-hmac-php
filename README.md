# HMAC Request

A PHP library that generates an HMAC hash from an HTTP request. The algorithm
is heavily inspired by [Amazon Web Service's](http://docs.aws.amazon.com/AmazonS3/latest/dev/RESTAuthentication.html)
implementation.

The goal of this project is to generate a digest from common HTTP request
objects, e.g. [Guzzle](http://api.guzzlephp.org/class-Guzzle.Http.Message.Request.html)
and [Symfony](http://api.symfony.com/2.0/Symfony/Component/HttpFoundation/Request.html),
so that it can be reused in client-side and server-side implementations.

The following pseudocode illustrates the construction of the Authorization
header and signature.

```
Authorization = "Acquia" + " " + ApiKeyId + ":" + Signature;

Signature = Base64( HMAC-ALGORITHM*)( SecretKey, Message ) );

Message =
    HTTP-Verb + "\n" +
	MD5( Request-Body ) + "\n" +
	Content-Type + "\n" +
	Date + "\n" +
	Resource
;
```

The `ApiKeyId` is the API key's unique identifer, such as the one generated by
the [API Key Manager](https://github.com/acquia/api-key-manager) library. The
`Date` is either the value of the `Date` header or a custom header defined by
the application to accommodate clients that cannot set the `Date` header. The
`Resource` is the path + query string of the request.

## Installation

HMAC Request can be installed with [Composer](http://getcomposer.org)
by adding it as a dependency to your project's composer.json file.

```json
{
    "repositories": [
        {
            "type": "vcs",
            "url": "https://github.com/acquia/hmac-request"
        }
    ],
    "require": {
        "acquia/hmac-request": "*"
    }
}
```

Please refer to [Composer's documentation](https://github.com/composer/composer/blob/master/doc/00-intro.md#introduction)
for more detailed installation and usage instructions.

## Usage

@todo
